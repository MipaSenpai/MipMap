<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>MipMap — Minecraft Map Viewer</title>
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        />
        <style>
            body,
            #map {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100vh;
                background: #111;
            }
            .leaflet-container {
                background: #000;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>

        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script>
            const WORLD_ID = "YOUR_WORLD_ID_HERE"; // я хз зачем это тут

            // === 2. Инициализация карты ===
            const map = L.map("map", {
                crs: L.CRS.Simple, // отключает географические координаты
                minZoom: 0,
                maxZoom: 4,
                zoomControl: true,
            });

            // Центрируем на (0, 0) в мировых координатах
            const centerPixel = [0, 0]; // [z, x] → Leaflet: [lat, lng] = [z, x]
            map.setView(centerPixel, 2); // начальный zoom = 2

            // === 3. Подключаем тайловый слой ===
            const tileLayer = L.tileLayer(`/api/v1/tiles/{z}/{x}/{y}.png`, {
                minZoom: 0,
                maxZoom: 4,
                tileSize: 256,
                noWrap: true, // не повторять карту по краям
                continuousWorld: true,
                attribution: "MipMap",
            }).addTo(map);

            map.on("click", function (e) {
                console.log(
                    "Clicked world coords (x, z):",
                    e.latlng.lng,
                    e.latlng.lat,
                );
            });
        </script>
    </body>
</html>
